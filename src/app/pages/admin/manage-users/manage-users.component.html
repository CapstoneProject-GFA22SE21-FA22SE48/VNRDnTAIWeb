<div class="flex p-0" id="container">
  <div
    [ngClass]="{ 'w-12': selectedMember === undefined, 'w-8': selectedMember }"
  >
    <div class="p-2 mb-1">
      <fa-icon class="fa-lg mr-2" [icon]="['far', 'circle-user']"></fa-icon>
      <span class="text-xl">Quản lý thành viên</span>
    </div>
    <div class="p-2">
      <div class="mb-3">
        <span class="p-input-icon-right mr-3">
          <i class="pi pi-search"></i>
          <input type="text" pInputText placeholder="Tìm kiếm..." />
        </span>
        <p-dropdown
          [options]="status"
          placeholder="Trạng thái"
          optionLabel="name"
          [showClear]="true"
        ></p-dropdown>
      </div>

      <p-table
        [value]="members"
        [paginator]="true"
        [rows]="9"
        [showCurrentPageReport]="true"
        responsiveLayout="scroll"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        styleClass="p-datatable-gridlines p-datatable-sm"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>Tên đăng nhập</th>
            <th>Mật khẩu</th>
            <th>Ngày tạo</th>
            <th>Trạng thái</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-member>
          <tr>
            <td>{{ member.username }}</td>
            <td>
              <p-password
                [(ngModel)]="member.password"
                [toggleMask]="true"
                [feedback]="false"
                [disabled]="true"
              ></p-password>
            </td>
            <td>{{ member.createdDate }}</td>
            <td>
              <span *ngIf="member.status == 5" class="text-green-600"
                >Hoạt động</span
              >
              <span *ngIf="member.status == 6" class="text-red-600"
                >Ngưng hoạt động</span
              >
            </td>
            <td>
              <button
                pButton
                type="button"
                icon="pi pi-info"
                class="p-button-rounded p-button-outlined btn-info"
                (click)="viewInfo(member)"
              ></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>

  <div
    id="member-info"
    class="p-2"
    [ngClass]="{
      hide: selectedMember === undefined,
      show: selectedMember
    }"
  >
    <button (click)="closeInfo()" id="btn-closeInfo">
      <i class="pi pi-times text-red-600"></i>
    </button>

    <div id="right-top">
      <div class="flex align-items-center">
        <i class="pi pi-info-circle text-xl"></i>
        <span class="text-xl ml-2">Thông tin</span>
      </div>

      <div class="mt-3">
        <span class="text-lg text-color-secondary">Người dùng: </span>
        <span class="text-lg text-900 ml-3">
          {{ selectedMember?.username }}</span
        >
      </div>

      <div class="mt-3">
        <button
          pButton
          type="button"
          label="Ngưng hoạt động"
          class="p-button-raised p-button-danger"
        ></button>
      </div>
    </div>

    <div id="right-main">
      <div
        class="flex align-items-center justify-content-center"
        *ngFor="let comment of userComments"
      >
        <div class="h-7rem mt-2 mb-2 comment">
          <div class="p-2 comment-content">
            <span>{{ comment.content }}</span>
          </div>
          <div class="text-right pr-3 pb-1 comment-time">
            <span>{{ comment.createdDate | dateAgo }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
